<?php
/*   _______________________________________
    |  Obfuscated by PMPR - Php Obfuscator  |
    |             687eace567115             |
    |_______________________________________|
*/
 namespace Pmpr\Module\NotificationSystem; use Pmpr\Common\Foundation\Interfaces\Constants; use Pmpr\Module\NotificationSystem\Model\Notification; use Pmpr\Module\NotificationSystem\Model\UserNotification; class Ajax extends Container { const gkimiuwesaueukme = NotificationSystem::PREFIX . 'mark_all_as_read'; const sewqceoeqwsywywc = NotificationSystem::PREFIX . 'get_notifications'; public function wigskegsqequoeks() { $this->koaegcswmcqsiykq(self::gkimiuwesaueukme, [$this, 'eksgmmskaeqwkouw'])->koaegcswmcqsiykq(self::sewqceoeqwsywywc, [$this, 'weoociwuqeqowkyu']); } public function eksgmmskaeqwkouw() { $eiicaiwgqkgsekce = $this->caokeucsksukesyo()->giiecckwoyiawoyy(); $keccaugmemegoimu = $eiicaiwgqkgsekce->aoyemeikggcigigu(); $occymigcemkqucuw = false; if (!is_wp_error($keccaugmemegoimu)) { $ycoeoaakqyskgykq = $this->uwkmaywceaaaigwo()->issssuygyewuaswa()->qyeguewwsmosqcwc(); $jwsqucqyaoaasykk = UserNotification::symcgieuakksimmu(); $eqwoegegiamegqsm = $this->caokeucsksukesyo()->skckwsgymkimyuwo(); $gqgemcmoicmgaqie = [$eqwoegegiamegqsm->megqywqeuquawkim($jwsqucqyaoaasykk::qaoigoeaakkkgwge, 0), $eqwoegegiamegqsm->megqywqeuquawkim(Constants::yauicucwkgqyygas, $ycoeoaakqyskgykq)]; if ($jwsqucqyaoaasykk->iekyeyicoyyawomk()->exists($gqgemcmoicmgaqie)) { $jwsqucqyaoaasykk->gssiscqyqsacmeca()->oisyoywgmmaawqmy([$jwsqucqyaoaasykk::qaoigoeaakkkgwge => 1], $gqgemcmoicmgaqie); $keccaugmemegoimu = __('All notifications changes to read.', PR__MDL__NOTIFICATION_SYSTEM); $occymigcemkqucuw = true; } else { $keccaugmemegoimu = $this->caokeucsksukesyo()->euekiyuksecoccus()->gosmqcmmomkqwmis(__('Can not found any unread notification for you.', PR__MDL__NOTIFICATION_SYSTEM), 404); } } $eiicaiwgqkgsekce->uaggqsoeugksgooc($keccaugmemegoimu, $occymigcemkqucuw); } public function weoociwuqeqowkyu() { $eiicaiwgqkgsekce = $this->caokeucsksukesyo()->giiecckwoyiawoyy(); $keccaugmemegoimu = $eiicaiwgqkgsekce->aoyemeikggcigigu(); if (!is_wp_error($keccaugmemegoimu)) { $ycoeoaakqyskgykq = $this->uwkmaywceaaaigwo()->issssuygyewuaswa()->qyeguewwsmosqcwc(); $suaemuyiacqyugsm = $eiicaiwgqkgsekce->yyqgamuwwakgciey(Constants::imywcsggckkcywgk); $wwqemmusgqqqwskq = $eiicaiwgqkgsekce->yyqgamuwwakgciey('last_id', 0); $cussukyecoaeayqk = $eiicaiwgqkgsekce->yyqgamuwwakgciey('important', false); $eqwoegegiamegqsm = $this->caokeucsksukesyo()->skckwsgymkimyuwo(); $mgoagquceywsuaci = Notification::symcgieuakksimmu(); $cmkieciuowaqocey = UserNotification::symcgieuakksimmu(); if (empty($suaemuyiacqyugsm)) { $gqgemcmoicmgaqie = $mgoagquceywsuaci->eosswseikwiywcqo($ycoeoaakqyskgykq, $cussukyecoaeayqk); $gqgemcmoicmgaqie->mmiqqgoaeccgwoqs($eqwoegegiamegqsm->megqywqeuquawkim($cmkieciuowaqocey->kumuygiiqswoyasy(true), $wwqemmusgqqqwskq)->maqiysyuqmwcqoig('>')); $gaugacacwkwsggqu = $mgoagquceywsuaci->iekyeyicoyyawomk()->cieaqygkucwoqwke($gqgemcmoicmgaqie); $gaeqamemwmwsyukm = $mgoagquceywsuaci->iekyeyicoyyawomk()->asskucacysemeoiu($mgoagquceywsuaci->eosswseikwiywcqo($ycoeoaakqyskgykq, $cussukyecoaeayqk)); if ($gaugacacwkwsggqu) { $suuagcecoyuweoqk = []; foreach ($gaugacacwkwsggqu as $iauqwemmwkwkemqi) { $suuagcecoyuweoqk[$cmkieciuowaqocey->mwyqswsaeeewsosm($iauqwemmwkwkemqi)] = $this->iuygowkemiiwqmiw('notification/notification', [Constants::wqyyquqcmoegoyao => $cmkieciuowaqocey->wysccqgwqaskiymw($iauqwemmwkwkemqi)]); } $icwkuwimswoisqss = $this->caokeucsksukesyo()->gagsyqagguwwauac(); $keccaugmemegoimu = [Constants::ugmwekegkosuuwii => $suuagcecoyuweoqk, Constants::qiyqwyiiwykeccmo => $icwkuwimswoisqss->eusockqasqqmoess($gaeqamemwmwsyukm)]; if (!$cussukyecoaeayqk) { $gaqiucqawyaiooqg = $cmkieciuowaqocey->iekyeyicoyyawomk()->asskucacysemeoiu($eqwoegegiamegqsm->kyckwuuiqwmyoqma()->mmiqqgoaeccgwoqs($eqwoegegiamegqsm->megqywqeuquawkim(Constants::yauicucwkgqyygas, $ycoeoaakqyskgykq))->mmiqqgoaeccgwoqs($eqwoegegiamegqsm->megqywqeuquawkim($cmkieciuowaqocey::qaoigoeaakkkgwge, 0))); $keccaugmemegoimu['unread'] = $icwkuwimswoisqss->eusockqasqqmoess($gaqiucqawyaiooqg); } } else { $keccaugmemegoimu = $this->caokeucsksukesyo()->euekiyuksecoccus()->gosmqcmmomkqwmis(__('There is no new notification yet.', PR__MDL__NOTIFICATION_SYSTEM), 404); } } else { $ssukygsemqwswumi = $eqwoegegiamegqsm->kyckwuuiqwmyoqma()->mmiqqgoaeccgwoqs($eqwoegegiamegqsm->megqywqeuquawkim($cmkieciuowaqocey->kumuygiiqswoyasy(true), $wwqemmusgqqqwskq)->maqiysyuqmwcqoig('>')); $keccaugmemegoimu = $mgoagquceywsuaci->yqgiioyiwomwoaaw($ycoeoaakqyskgykq, $suaemuyiacqyugsm, $cussukyecoaeayqk, $ssukygsemqwswumi); } } $eiicaiwgqkgsekce->uaggqsoeugksgooc($keccaugmemegoimu); } }
